---
layout: post
title: How to configure JDK logging for Jersey 2 tests
date: '2013-11-18T11:39:00.000+01:00'
author: Libor Kramoli≈°
tags:
- jaxrs
- logging
- jersey
modified_time: '2015-02-13T18:30:27.502+01:00'
blogger_id: tag:blogger.com,1999:blog-2759548145050416517.post-2442273088609451275
blogger_orig_url: http://yatel.kramolis.cz/2013/11/how-to-configure-jdk-logging-for-jersey.html
---

Jersey uses <a href="http://docs.oracle.com/javase/7/docs/api/java/util/logging/package-summary.html">JDK Logging API</a> to log messages.<br /><br />One way how to configure JDK Logging is a <a href="http://docs.oracle.com/javase/7/docs/technotes/guides/logging/overview.html#a1.8">properties file</a>. In such case you have to set JVM system property <a href="http://docs.oracle.com/javase/7/docs/api/java/util/logging/LogManager.html">java.util.logging.config.file</a> to reference the properties file.<br /><br />Initially the logging configuration file <span style="font-family: Courier New, Courier, monospace;">logging.properties</span> can look:<br /><br /><!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #75715e">#All attributes details</span><br /><span style="color: #a6e22e">handlers</span><span style="color: #f92672">=</span><span style="color: #e6db74">java.util.logging.ConsoleHandler</span><br /><span style="color: #a6e22e">java.util.logging.ConsoleHandler.level</span><span style="color: #f92672">=</span><span style="color: #e6db74">FINEST</span><br /><span style="color: #a6e22e">java.util.logging.SimpleFormatter.format</span><span style="color: #f92672">=</span><span style="color: #e6db74">%4$-7s [%3$s] %5$s%6$s%n</span><br /><br /><span style="color: #75715e">#All log level details</span><br /><span style="color: #a6e22e">.level</span><span style="color: #f92672">=</span><span style="color: #e6db74">INFO</span><br /><span style="color: #a6e22e">org.glassfish.jersey.level</span><span style="color: #f92672">=</span><span style="color: #e6db74">CONFIG</span><br /><span style="color: #a6e22e">org.glassfish.jersey.tracing.level</span><span style="color: #f92672">=</span><span style="color: #e6db74">FINEST</span><br /></pre></div> <br />The configuration explained:<br /><br /><ul><li><span style="font-family: Courier New, Courier, monospace;">handlers=java.util.logging.ConsoleHandler</span> - log messages are written to&nbsp;<span style="font-family: Courier New, Courier, monospace;">System.err</span></li><li><span style="font-family: Courier New, Courier, monospace;">java.util.logging.ConsoleHandler.level=FINEST</span> - allow to log <span style="font-family: Courier New, Courier, monospace;">FINEST</span> message;<br />default is <span style="font-family: Courier New, Courier, monospace;">INFO</span> so more detailed messages are suppressed by default</li><li><span style="font-family: Courier New, Courier, monospace;"><a href="http://docs.oracle.com/javase/7/docs/api/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)">java.util.logging.SimpleFormatter.format</a></span> - example of simple and single line format - just level, logger name and message;<br />Note: It just works with Java 7.</li><li><span style="font-family: Courier New, Courier, monospace;">org.glassfish.jersey.level=CONFIG</span> - example of per-package level configuration;<br />log all <span style="font-family: Courier New, Courier, monospace;">SEVERE</span>, <span style="font-family: Courier New, Courier, monospace;">WARNING</span>, <span style="font-family: Courier New, Courier, monospace;">INFO</span> and <span style="font-family: Courier New, Courier, monospace;">CONFIG</span> level Jersey messages</li><li><span style="font-family: Courier New, Courier, monospace;">org.glassfish.jersey.tracing.level=FINEST</span> - example of detailed level configuration of specified package</li></ul>And as mentioned it is necessary to set system property <span style="font-family: Courier New, Courier, monospace;">java.util.logging.config.file</span>. Do you want to see log messages during unit testing (e.g. using maven)? There are two options:<br /><br /><ul><li>run tests in new JVM instance (fork option) and configure the system property in such maven plugin</li><li>enhance maven command line parameter and add&nbsp;the <br /><span style="font-family: Courier New, Courier, monospace;">-Djava.util.logging.config.file=...</span> property</li></ul><br />For example, run test application using Jetty server for test module&nbsp;<span style="font-family: Courier New, Courier, monospace;">tracing-support</span>:<br /><br /><span style="font-family: Courier New, Courier, monospace;">~/jersey2/tests/integration/tracing-support$ mvn compile jetty:run <b>-Djava.util.logging.config.file=<i>src/test/resources/logging.properties</i></b></span><br /><br /><span style="font-family: Verdana, sans-serif;">-that's all folks</span>